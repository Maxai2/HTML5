<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript">

        /*Задание 1
        Создать объект, описывающий автомобиль (производитель, модель, год выпуска, средняя скорость), и следующие функции для работы с этим объектом. 1. Функция для вывода на экран информации об автомобиле. 2. Функция для подсчета необходимого времени для преодоления 
        переданного расстояния со средней скоростью. Учтите, что через каждые 4 часа дороги водителю необходимо делать перерыв на 1 час.*/

        // function auto (mark, model, realeseYear, avarageSpeed)
        // {
        //     this.mark = mark;
        //     this.model = model;
        //     this.realeseYear = realeseYear;
        //     this.avarageSpeed = avarageSpeed;

        //     print = function()
        //     {
        //         console.log(`Mark: ${this.mark}\nModel: ${this.model}\nRealese year: ${this.realeseYear}\nAvarage speed: ${this.avarageSpeed}`);
        //     }

        //     findTimeDuration = function(distance)
        //     {
        //         time = distance / this.avarageSpeed;

        //         reserveTime = Number.parseInt(time / 4);

        //         return time + reserveTime;
        //     }
        // }

        // class auto 
        // {
        //     constructor(mark, model, realeseYear, avarageSpeed) 
        //     {
        //         this.mark = mark;
        //         this.model = model;
        //         this.realeseYear = realeseYear;
        //         this.avarageSpeed = avarageSpeed;
        //     }

        //     print() 
        //     {
        //         console.log(`Mark: ${this.mark} \nModel: ${this.model} \nRealese year: ${this.realeseYear} \nAvarage speed: ${this.avarageSpeed}`);
        //     }

        //     findTimeDuration(distance) 
        //     {
        //         let time = distance / this.avarageSpeed;
        //         console.log(time);
        //         let reserveTime = Number.parseInt(time / 4);
        //         console.log(reserveTime);
        //         return time + reserveTime;
        //     }
        // }

        // let hyundai = new auto('Hyundai', 'Elantra', 2005, 40);
        // hyundai.print();
        // console.log(hyundai.findTimeDuration(500));

        //-------------------------------------------------------------

        /*Задание 2
        Создать объект, хранящий в себе отдельно числитель и знаменатель дроби, и следующие функции для работы с этим объектом.
        1. Функция сложения 2-х объектов-дробей.
        2. Функция вычитания 2-х объектов-дробей.
        3. Функция умножения 2-х объектов-дробей.
        4. Функция деления 2-х объектов-дробей.
        5. Функция сокращения объекта-дроби.*/

        // class fraction
        // {
        //     constructor(numerator, denominator)
        //     {
        //         this.numerator = numerator;
        //         this.denominator = denominator;
        //     }
            
        //     fractionReduction()
        //     {
        //         let temp = 0;
        //         let temp1 = this.numerator;
        //         let temp2 = this.denominator;
        //         let num = 0;

        //         if (temp1 > temp2) 
        //         {
        //             while (true) 
        //             {
        //                 temp = temp1 % temp2;
        //                 if (temp == 0) 
        //                 {
        //                     num = temp2;
        //                     break;
        //                 }
        //                 else
        //                 {
        //                     temp1 = temp2;
        //                     temp2 = temp;
        //                 }
        //             }
        //         }
        //         else 
        //         {
        //             while (true) 
        //             {
        //                 temp = temp2 % temp1;
        //                 if (temp == 0) 
        //                 {
        //                     num = temp1;
        //                     break;
        //                 }
        //                 else
        //                 {
        //                     temp2 = temp1;
        //                     temp1 = temp;
        //                 }
        //             }
        //         }

        //         this.numerator /= num;
        //         this.denominator /= num;
        //     }

        //     sum (fract)
        //     {
        //         let tempF = new fraction(((this.numerator * fract.denominator) + (this.denominator * fract.numerator)), (this.denominator * fract.denominator));
        //         tempF.fractionReduction();

        //         return tempF;
        //     }
            
        //     subtraction (fract)
        //     {
        //         let tempF = new fraction(((this.numerator * fract.denominator) - (this.denominator * fract.numerator)), (this.denominator * fract.denominator));
        //         tempF.fractionReduction();

        //         return tempF;
        //     }          

        //     multiplication (fract)
        //     {
        //         let tempF = new fraction((this.numerator * fract.numerator), (this.denominator * fract.denominator));
        //         tempF.fractionReduction();

        //         return tempF;
        //     }

        //     division (fract)
        //     {
        //         let tempF = new fraction((this.numerator * fract.denominator), (this.denominator * fract.numerator));
        //         tempF.fractionReduction();

        //         return tempF;
        //     }

        //     print()
        //     {
        //         console.log(`${this.numerator}/${this.denominator}`);
        //     }
        // }

        // // let frac = new fraction(14, 20);
        // // frac.fractionReduction();
        // // frac.print();

        // let frac1 = new fraction(5, 8);
        // let frac2 = new fraction(3, 5);
        // console.log(frac1.sum(frac2));

        // let frac1 = new fraction(5, 8);
        // let frac2 = new fraction(3, 5);
        // console.log(frac1.subtraction(frac2));

        // let frac1 = new fraction(5, 8);
        // let frac2 = new fraction(3, 5);
        // console.log(frac1.multiplication(frac2));

        // let frac1 = new fraction(5, 8);
        // let frac2 = new fraction(3, 5);
        // console.log(frac1.division(frac2));

        //-------------------------------------------------------------

        /*Задание 3
        Создать объект, описывающий время (часы, минуты, секунды), и следующие функции для работы с этим объектом. 
        1. Функция вывода времени на экран. 
        2. Функция изменения времени на переданное количество секунд.
        3. Функция изменения времени на переданное количество минут.
        4. Функция изменения времени на переданное количество часов.
        Учтите, что в последних 3-х функциях, при изменении одной части времени, может измениться и другая. Например: если ко времени «20:30:45» добавить 30 секунд, то должно получиться «20:31:15», а не «20:30:75»*/

        class Mtime
        {
            constructor (hours, minutes, seconds)
            {
                this.hours = hours;
                this.minutes = minutes;
                this.seconds = seconds;
            }

            print ()
            {
                console.log(`${this.hours < 10 ? '0' + this.hours : this.hours}:${this.minutes < 10 ? '0' + this.minutes : this.minutes}:${this.seconds < 10 ? '0' + this.seconds : this.seconds}`);
            }

            addSec (sec)
            {
                console.log(sec);

                let hourCount = Number.parseInt(sec / 3600);
                
                console.log(hourCount);

                let minCount = Number.parseInt((sec - (3600 * hourCount)) / 60);
                
                console.log(minCount);

                let secCount = Number.parseInt(sec - (3600 * hourCount) - (60 * minCount));

                console.log(secCount);

                if (sec > 0)
                {
                    this.seconds += secCount;
                    this.minutes += minCount;
                    this.hours += hourCount;

                    if (this.seconds >= 60)
                    {
                        this.seconds = this.seconds - 60;
                        this.minutes += 1;

                        if (this.minutes >= 60)
                        {
                            this.minutes = this.minutes - 60;
                            this.hours += 1;

                            if (this.hours >= 24)
                            {
                                this.hours = this.hours - 25;
                            }
                        }
                    }
                }
                else
                {
                    this.seconds += secCount;

                    if (this.seconds < 0 || minCount < 0)
                    {
                        this.minutes += minCount;

                        if (this.minutes < 0)
                        {
                            this.hours += hourCount;
                            this.minutes = 60 + this.minutes;
                            this.hours -= 1;

                            if (this.hours < 0)
                            {
                                this.hours = 23;
                                this.minutes = 59;
                                this.seconds = 59;
                            }
                        }
                    }
                }
            }

            addMin (min)
            {
                console.log(min);

                let hourCount = Number.parseInt(min / 60);

                console.log(hourCount);

                let minCount = Number.parseInt(min - (60 * hourCount));

                console.log(minCount);

                this.minutes += minCount;

                if (min > 0)
                {
                    this.hours += hourCount;

                    if (this.minutes >= 60)
                    {
                        this.minutes = this.minutes - 60;
                        this.hours += 1;

                        if (this.hours >= 24)
                        {
                            this.hours = this.hours - 24;
                        }
                    }
                }
                else
                {
                    if (this.minutes < 0 || hourCount < 0)
                    {
                        this.hours += hourCount;
                        this.minutes = 60 + this.minutes;
                        this.hours -= 1;

                        if (this.hours < 0)
                        {
                            this.hours = this.hours + 24;
                        }
                    }
                }
            }

            addHour (hour)
            {
                console.log(hour);

                let hourCount = Number.parseInt(hour / 60);

                console.log(hourCount);

                this.hours += hourCount;

                if (hour > 0)
                {
                    if (this.hours >= 24)
                    {
                        this.hours = this.hours - 24;
                    }
                }
                else
                {
                    if (this.hours < 0)
                    {
                        this.hours = this.hours + 24;
                    }
                }           
            }
        }

        let myTime = new Mtime(8, 30, 45);
        // myTime.print();
        // myTime.addSec(-10000); // 0 5 60 100 1000 10000 | -5 -60 -100 -1000 -10000
        // myTime.print();
        // myTime.addMin(-1000); // 0 5 60 100 1000 | -5 -60 -100 -1000
        myTime.print();
        myTime.addHour(5);
        myTime.print();

    </script>
</body>

</html>