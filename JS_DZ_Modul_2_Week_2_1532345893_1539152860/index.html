<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script type="text/javascript">
        /*Задание 1
        Создать массив «Список покупок». Каждый элемент массива является объектом, который содержит название продукта, необходимое количество и куплен или нет. 
        Написать несколько функций для работы с таким массивом:*/

        // function product(nameOfProduct, requiredAmount, isPurchased) 
        // {
        //     this.nameOfProduct = nameOfProduct;
        //     this.requiredAmount = requiredAmount;
        //     this.isPurchased = isPurchased;
        // }

        // let ProductList = [new product("Tomat", 2, true), new product("Potato", 3, false), new product("Carrot", 4, false)];

        /*1. Вывод всего списка на экран таким образом, чтобы сначала шли некупленные продукты, а потом – купленные.*/
        // ProductList.printList = function() 
        // {
        //     for (let prod of ProductList.sort(function(a)
        //     {
        //         if (a.isPurchased == true)
        //             return 1;
        //         else
        //             return 0;
        //     }))
        //     {
        //         console.log(prod);
        //     }
        // }
            
        /*2. Добавление покупки в список. Учтите, что при добавлении покупки с уже существующим в списке продуктом, необходимо увеличивать количество в существующей покупке, а не добавлять новую.*/
        // ProductList.addProduct = function(prod)
        // {
        //     let tempProd = ProductList.find(p => prod.nameOfProduct == p.nameOfProduct);

        //     if(tempProd == undefined)
        //         ProductList.push(prod);
        //     else
        //         tempProd.requiredAmount += prod.requiredAmount;
        // }

        /*3. Покупка продукта. Функция принимает название продукта и отмечает его как купленный.*/
        // ProductList.purschase = function(prod)
        // {
        //     let tempProd = ProductList.find(p => prod.nameOfProduct == p.nameOfProduct);

        //     if (tempProd != undefined)
        //         tempProd.isPurchased = true;
        // }

        // let apple = new product("Apple", 4, false);

        // ProductList.printList();
        // console.log("--------------------------------------");
        // ProductList.addProduct(apple);
        // ProductList.printList();
        // console.log("--------------------------------------");
        // ProductList.addProduct(new product("Apple", 2, false));
        // ProductList.printList();
        // console.log("--------------------------------------");
        // ProductList.purschase(apple);
        // ProductList.printList();

        //----------------------------------------------------------------------------------------------------------------------------

        /*Задание 2
        Создать массив, описывающий чек в магазине. Каждый элемент массива состоит из названия товара, количества и цены за единицу товара. 
        Написать следующие функции:*/

        // function goods(nameOfGoods, count, price)
        // {
        //     this.nameOfGoods = nameOfGoods;
        //     this.count = count;
        //     this.price = price;
        //     this.sum = this.price * this.count;
        // }

        // let goodsList = [new goods("burger", 2, 7), new goods("pizza", 1, 15), new goods("fanta", 3, 3)];

        /*1. Распечатка чека на экран.*/
        // goodsList.checkPrint = function()
        // {
        //     let total = 0;

        //     goodsList.forEach((item, index) => 
        //     {
        //         console.log(`${index + 1}) Name: ${item.nameOfGoods} | Count: ${item.count} | Price: ${item.price} - Sum: ${item.sum}`);
        //         total += item.sum;
        //     });
        //     console.log("*************************************************");
        //     console.log(`\t\t\t\t\t\t\t\t\t\t\t${total}$`);
        // }
        
        /*2. Подсчет общей суммы покупки.*/
        // goodsList.totalSum = function()
        // {
        //     let total = 0;

        //     goodsList.forEach((item, index) => 
        //     {
        //         total += item.sum;
        //     });

        //     return total;
        // }

        /*3. Получение самой дорогой покупки в чеке.*/
        // goodsList.expenciveSum = function()
        // {
        //     let tempList = goodsList.sort(function(a, b) 
        //     {
        //         return b.sum - a.sum;
        //     });

        //     return tempList[0].sum;
        // }

        /*4. Подсчет средней стоимости одного товара в чеке.*/
        // goodsList.avgSum = function()
        // {
        //     return Number.parseInt(goodsList.totalSum() / goodsList.length);
        // }

        // goodsList.checkPrint();
        // console.log("-----------------------------------------------------");
        // console.log(`Amount: ${goodsList.totalSum()}$`);
        // console.log("-----------------------------------------------------");
        // console.log(`Expencive sum: ${goodsList.expenciveSum()}$`);
        // console.log("-----------------------------------------------------");
        // console.log(`Avarage sum of one item is ${goodsList.avgSum()}$`);

        //----------------------------------------------------------------------------------------------------------------------------

        /*Задание 3
        Создать массив css-стилей (цвет, размер шрифта, выравнивание, подчеркивание и т. д.). Каждый элемент массива – это объект, состоящий из двух свойств: название стиля и значение стиля.
        Написать функцию, которая принимает массив стилей и текст, и выводит этот текст с помощью document.write() в тегах <p></p>, добавив в открывающий тег атрибут style со всеми стилями,
        перечисленными в массиве. */

        // function styleObj(nameOfStyle, valueOfStyle)
        // {
        //     this.nameOfStyle = nameOfStyle;
        //     this.valueOfStyle = valueOfStyle;
        // }

        // function pTagPrintWithStyle(arrayOfStyle, text)
        // {
        //     let documentTextWithStyle = "<p style=\"";
        //     arrayOfStyle.forEach(item => 
        //     {
        //         documentTextWithStyle += (`${item.nameOfStyle}: ${item.valueOfStyle};`); // document.body.append
        //     });

        //     documentTextWithStyle += `\"><br/>${text}<br/></p>`;
        //     return documentTextWithStyle;
        // }

        // let styleArr = [new styleObj("color", "green"), new styleObj("font-size", "46px"), new styleObj("text-decoration", "underline")];

        // document.write(pTagPrintWithStyle(styleArr, "Hello World!"));

        // //document.body.append

        //----------------------------------------------------------------------------------------------------------------------------

        /*Задание 4
        Создать массив аудиторий академии. Объект-аудитория состоит из названия, количества посадочных мест (от 10 до 20) и названия факультета, для которого она предназначена.
        Написать несколько функций для работы с ним.*/

        function lectureHall(lectureHallName, seatCount, facultyName)
        {
            this.lectureHallName = lectureHallName;

            if (10 <= seatCount && seatCount <= 20)
                this.seatCount = seatCount;
            else
                this.seatCount = 0;

            this.facultyName = facultyName;

            this.fullInfo = function()
            {
                return `Hall name: ${this.lectureHallName}, Seat count: ${this.seatCount}, Faculty name: ${this.facultyName}`;
            }
        }

        function group(groupName, studentCount, groupFacultyName)
        {
            this.groupName = groupName;
            this.studentCount = studentCount;
            this.groupFacultyName = groupFacultyName;
        }
        
        let lectureHallArray = [new lectureHall('2E', 16, 'Programming'), new lectureHall('2D', 12, 'Design'), new lectureHall('2A', 13, 'Programming')];
        
        /*1. Вывод на экран всех аудиторий.*/
        lectureHallArray.hallPrint = function()
        {
            lectureHallArray.forEach((item, index) =>
            {
                console.log(`${index + 1}) ${item.fullInfo()}`);
            });
        }

        /*2. Вывод на экран аудиторий для указанного факультета.*/
        lectureHallArray.selectedFacultyShowHalls = function(tempFacultyName)
        {
            let selectedFaculty = [];

            lectureHallArray.forEach(elem => 
            {
                if (elem.facultyName == tempFacultyName)
                    selectedFaculty.push(elem);
            });

            selectedFaculty.forEach((item, index) =>
            {
                console.log(`${index + 1}) ${item.fullInfo()}`);
            });
        }

        /*3. Вывод на экран только тех аудиторий, которые подходят для переданной группы. Объект-группа состоит из названия, количества студентов и названия факультета.*/
        lectureHallArray.printHallByGroup = function(selGroup)
        {
            let tempHall = [];

            lectureHallArray.forEach(item => 
            {
                if (selGroup.groupFacultyName == item.facultyName && selGroup.studentCount <= item.seatCount)
                {
                    tempHall.push(item);
                }
            });

            return tempHall;
        }

        /*4. Функция сортировки аудиторий по количеству мест.*/
        lectureHallArray.sortBySeatCount = function()
        {
            return lectureHallArray.sort(function(a, b)
            {
                return b.seatCount - a.seatCount;
            });
        }

        /*5. Функция сортировки аудиторий по названию (по алфавиту).*/
        lectureHallArray.sortByHallName = function()
        {
            return lectureHallArray.sort(function(a, b)
            {
                for (let i = 0; ; i++) 
                {
                    if(a.lectureHallName[i] > b.lectureHallName[i])
                        return 1;
                    else
                    if (a.lectureHallName[i] < b.lectureHallName[i])
                        return -1;
                }
            });
        }

        lectureHallArray.hallPrint();
        console.log("----------------------------------------------------------------");
        lectureHallArray.selectedFacultyShowHalls('Programming');
        console.log("----------------------------------------------------------------");
        lectureHallArray.sortBySeatCount().forEach((item, index) =>
        {
            console.log(`${index + 1}) ${item.fullInfo()}`);
        });
        console.log("----------------------------------------------------------------");
        lectureHallArray.sortByHallName().forEach((item, index) =>
        {
            console.log(`${index + 1}) ${item.fullInfo()}`);
        });
        console.log("----------------------------------------------------------------");
        lectureHallArray.printHallByGroup(new group('FSDM-1711', 14, "Programming")).forEach((item, index) =>
        {
            console.log(`${index + 1}) ${item.fullInfo()}`);
        });

    </script>
</body>
</html>