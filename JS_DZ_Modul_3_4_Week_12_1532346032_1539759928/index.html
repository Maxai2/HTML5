<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <!--Задание 1
    Создать html-страницу со списком ссылок. Ссылки на внешние источники (которые начинаются с http://) необходимо подчеркнуть пунктиром. Искать такие ссылки в списке и устанавливать им дополнительные стили необходимо с помощью JS.-->

    <!-- <div class="ListBg">
        <ul id="linkList"></ul>
    </div>

    <script type="text/javascript">
        let links = ['index.html', 'http://google.com', 'https://itstep.org', 'https://mystat.itstep.org', '/images/cat.jpg', '/local/path'];

        let linkArr = document.getElementById("linkList");
        
        links.forEach(element =>
        {
            var li = document.createElement('li');
            var a = document.createElement('a');

            if ((element.search('http://') != -1) || element.search('https://') != -1)
            {
                a.style.borderBottom = '0.5px dotted #7a489f';
            }
            a.appendChild(document.createTextNode(element));
            li.appendChild(a);

            linkArr.appendChild(li);
        });

    </script> -->

<!-------------------------------------------------------------------->     
    <!--Задание 2
     Создать html-страницу с деревом вложенных директорий.
     При клике на элемент списка, он должен сворачиваться или разворачиваться. При наведении на элемент, шрифт должен становится жирным (с помощью CSS). -->

    
    <div class="TreeBg">
        <ul id="treeList"></ul>
    </div>

    <script type="text/javascript">

        function ulNodeLi(name, nodeArr)
        {
            this.name = name;

            this.nodeArr = nodeArr || [];

            // if (nodeArr == undefined || nodeArr == null)
            //     this.nodeArr = [];
            // else
            //     this.nodeArr = nodeArr;
        }

        function spanCreater(text)
        {
            let span = document.createElement('span');
            span.innerText = text;
            return span;
        }

        let LocalDiscC = new ulNodeLi('Local Disc (C:)', ['Program Files', 'Users', 'Windows']);
        let LocalDiscD = new ulNodeLi('Local Disc (D:)', ['New Folder 1', 'New Folder 2', 'New Folder 3']);
        let LocalDiscE = new ulNodeLi('Local Disc (E:)');

        let thisPc = new ulNodeLi('This PC', [LocalDiscC, LocalDiscD, LocalDiscE]);

        let treeListArr = document.getElementById("treeList");

        let liRoot = document.createElement('li');
        liRoot.appendChild(spanCreater(thisPc.name));
        
        let ulRoot = document.createElement('ul');

        thisPc.nodeArr.forEach(element => 
        {
            let liChild = document.createElement('li');
            liChild.appendChild(spanCreater(element.name));

            let ul = document.createElement('ul');
            
            element.nodeArr.forEach(elem =>
            {
                let li = document.createElement('li');
                li.appendChild(spanCreater(elem));

                ul.appendChild(li);
            });

            liChild.appendChild(ul);
            ulRoot.appendChild(liChild);
        });

        liRoot.appendChild(ulRoot);
        treeListArr.appendChild(liRoot);

        treeListArr.addEventListener('click', showHideTree, false);
        treeListArr.addEventListener('mouseover', BoldTextOver, false);treeListArr.addEventListener('mouseout', BoldTextOut, false);

        function showHideTree()
        {
            if(event.target.nodeName == 'SPAN')
            {
                if(event.target.nextElementSibling.nodeName == 'UL')
                {
                    if(event.target.nextElementSibling.style.display == "block")
                        event.target.nextElementSibling.style.display = "none";
                    else
                        event.target.nextElementSibling.style.display = "block";
                }
            }
        }

        function BoldTextOver()
        {
            if(event.target.nodeName == 'SPAN')
                event.target.style.fontWeight = 'bold';
        }

        function BoldTextOut()
        {
            if(event.target.nodeName == 'SPAN')
                event.target.style.fontWeight = 'normal';
        }

    </script>

</body>
</html>